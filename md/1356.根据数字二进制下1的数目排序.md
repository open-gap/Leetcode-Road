# 根据数字二进制下 1 的数目排序 #  
`难度：简单` 

给你一个整数数组 `arr` 。请你将数组中的元素按照其二进制表示中数字 **1** 的数目升序排序。  

如果存在多个数字二进制中 **1** 的数目相同，则必须将它们按照数值大小升序排列。  

请你返回排序后的数组。   

**示例 1**:  
>**输入**: arr = [0,1,2,3,4,5,6,7,8]  
>**输出**: [0,1,2,4,8,3,5,6,7]  
>**解释**: [0] 是唯一一个有 0 个 1 的数。  
>[1,2,4,8] 都有 1 个 1 。  
>[3,5,6] 有 2 个 1 。  
>[7] 有 3 个 1 。  
>按照 1 的个数排序得到的结果数组为 [0,1,2,4,8,3,5,6,7]  

**示例 2**:  
>**输入**: arr = [1024,512,256,128,64,32,16,8,4,2,1]  
>**输出**: [1,2,4,8,16,32,64,128,256,512,1024]  
>**解释**: 数组中所有整数二进制下都只有 1 个 1 ，所以你需要按照数值大小将它们排序。  

**示例 3**:  
>**输入**: arr = [10000,10000]  
>**输出**: [10000,10000]  

**示例 4**:  
>**输入**: arr = [2,3,5,7,11,13,17,19]  
>**输出**: [2,3,5,17,7,11,13,19]  

**示例 5**:  
>**输入**: arr = [10,100,1000,10000]  
>**输出**: [10,100,10000,1000]  

**提示**：  
- `1 <= arr.length <= 500`  
- `0 <= arr[i] <= 10^4`  

来源：力扣（LeetCode）  
链接：https://leetcode-cn.com/problems/sort-integers-by-the-number-of-1-bits/  
著作权归领扣网络所有。商业转载请联系官方授权，非商业转载请注明出处。  

---  
>解法一：构造排序比较函数，在函数中计算并判断二进制1的个数  

```C++  
class Solution {
public:
    vector<int> sortByBits(vector<int>& arr) {
        auto fun = [](int i, int j){
            int x = 0, y = 0;
            for(int k = 0; k < 14; ++k)
            {
                x += (i >> k) & 1;
                y += (j >> k) & 1;
            }
            return (x == y) ? (i < j) : (x < y);
        };
        sort(arr.begin(), arr.end(), fun);
        return arr;
    }
};
```  

**执行结果：**  
执行用时 : **16 ms** , 在所有 cpp 提交中击败了 **89.85%** 的用户  
内存消耗 : **10.3 MB** , 在所有 cpp 提交中击败了 **52.81%** 的用户  

---  
>解法二：先计算作用域范围内所有数字的二进制1的个数，然后在判断 (官方题解二)  

```C++  
class Solution {
public:
    vector<int> sortByBits(vector<int>& arr) {
        // 通过递推公式求得作用域范围内的所有数字的1的位数
        vector<int> bit(10001, 0);
        for(int i = 1; i <= 10000; ++i) bit[i] = bit[i>>1] + (i & 1);
        // 调用库函数进行排序
        sort(arr.begin(),arr.end(),[&](int x,int y){
            return (bit[x] == bit[y]) ? (x < y) : (bit[x] < bit[y]);
        });
        return arr;
    }
};
```  

**执行结果：**  
执行用时 : **28 ms** , 在所有 cpp 提交中击败了 **32.16%** 的用户  
内存消耗 : **13.9 MB** , 在所有 cpp 提交中击败了 **22.19%** 的用户  

---  